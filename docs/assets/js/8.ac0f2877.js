(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{365:function(t,e,a){"use strict";a.r(e);var s=a(44),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"通用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通用配置"}},[t._v("#")]),t._v(" 通用配置")]),t._v(" "),a("p",[t._v("这里是框加载运行的一些基本配置")]),t._v(" "),a("h2",{attrs:{id:"include-rule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#include-rule"}},[t._v("#")]),t._v(" include-rule")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("List<RobinRuleEnum>")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("[]")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v('为了方便和自定义的策略区分先后, 如果配置的策略为"策略1, 策略2, 策略3", 则1/2/3的权重分别为"0/100/200", 权重越低则策略的优先级越高')]),t._v(" "),a("p",[t._v("用户自定义的策略可以依照次规律进行配置权重")])]),t._v(" "),a("blockquote",[a("p",[t._v("应用校验的规则, 会依照顺序进行检测, 默认不启用任何规则")])]),t._v(" "),a("h2",{attrs:{id:"resource"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource"}},[t._v("#")]),t._v(" resource")]),t._v(" "),a("blockquote",[a("p",[t._v("全局资源拦截器")])]),t._v(" "),a("h3",{attrs:{id:"mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode"}},[t._v("#")]),t._v(" mode")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("kim.nzxy.robin.enums.RobinModeEnum")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("DEFAULT")])]),t._v(" "),a("blockquote",[a("p",[t._v("Robin 资源配置, 优先级高于"),a("code",[t._v("resource.include-patterns")]),t._v("和"),a("code",[t._v("resource.exclude-patterns")]),t._v(", 共三种:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GLOBAL\t\t全部资源应用 Robin 检测\nDISABLED\t全部资源禁止 Robin 检测\nDEFAULT\t\t使用其它方式配置, 即resource.include-patterns和resource.exclude-patterns\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"include-patterns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#include-patterns"}},[t._v("#")]),t._v(" include-patterns")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("List<String>")])]),t._v(" "),a("p",[t._v("默认值: "),a("code",[t._v('["/**"]')])]),t._v(" "),a("blockquote",[a("p",[t._v("默认拦截全部资源, 一般需要用户自己配置")])]),t._v(" "),a("h3",{attrs:{id:"exclude-patterns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exclude-patterns"}},[t._v("#")]),t._v(" exclude-patterns")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("List<String>")])]),t._v(" "),a("p",[t._v("默认值: "),a("code",[t._v("[]")])]),t._v(" "),a("blockquote",[a("p",[t._v("取消拦截的资源, 优先级高于"),a("code",[t._v("resource.include-patterns")]),t._v(", 一般用于验证码等不需要反爬的接口, 你也可以使用通过重写"),a("code",[t._v("kim.nzxy.robin.filter.RobinInterceptor")]),t._v("接口来动态拦截")])]),t._v(" "),a("h2",{attrs:{id:"black-whitelist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#black-whitelist"}},[t._v("#")]),t._v(" black-whiteList")]),t._v(" "),a("blockquote",[a("p",[t._v("黑白名单配置, 由于一些检测机制需要公用黑白名单, 所以次框架黑白名单是公用的, 即IP相关的检测会公用 IP 相关的黑白名单")]),t._v(" "),a("p",[t._v("共有属性:")]),t._v(" "),a("h4",{attrs:{id:"whitelist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whitelist"}},[t._v("#")]),t._v(" whitelist")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("List<String>")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("[]")])]),t._v(" "),a("blockquote",[a("p",[t._v("白名单")])]),t._v(" "),a("h4",{attrs:{id:"blacklist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blacklist"}},[t._v("#")]),t._v(" blacklist")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("List<String>")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("[]")])]),t._v(" "),a("blockquote",[a("p",[t._v("黑名单, 优先级高于白名单")])])]),t._v(" "),a("h3",{attrs:{id:"ip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip"}},[t._v("#")]),t._v(" ip")]),t._v(" "),a("blockquote",[a("p",[t._v("IP相关黑边名单, 属性见共有属性")])]),t._v(" "),a("h2",{attrs:{id:"各策略相关配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各策略相关配置"}},[t._v("#")]),t._v(" 各策略相关配置")]),t._v(" "),a("h3",{attrs:{id:"ip-地址黑名单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip-地址黑名单"}},[t._v("#")]),t._v(" IP 地址黑名单")]),t._v(" "),a("blockquote",[a("p",[t._v("对应规则: BLACKLIST_IP_ADDRESS")]),t._v(" "),a("p",[t._v("见"),a("code",[t._v("black-whiteList.ip.blacklist")])]),t._v(" "),a("p",[t._v("优先级应高于每个 IP 相关策略, 即第一个配置次策略")])]),t._v(" "),a("h3",{attrs:{id:"ip-frequent-access"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip-frequent-access"}},[t._v("#")]),t._v(" ip-frequent-access")]),t._v(" "),a("blockquote",[a("p",[t._v("IP 访问频率限制")]),t._v(" "),a("p",[t._v("对应规则: FREQUENT_IP_ACCESS")]),t._v(" "),a("p",[t._v("在 [duration] 时间内, 如果同一 IP 访问次数超过 [frequency] 将会在 [unlock] 时间内拒绝该 IP 访问")])]),t._v(" "),a("h4",{attrs:{id:"duration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#duration"}},[t._v("#")]),t._v(" duration")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("Duration")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("1m")]),t._v(", 即1分钟")]),t._v(" "),a("blockquote",[a("p",[t._v("存续时间, 受控期")])]),t._v(" "),a("h4",{attrs:{id:"frequency"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frequency"}},[t._v("#")]),t._v(" frequency")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("int")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("10")])]),t._v(" "),a("blockquote",[a("p",[t._v("可访问次数")])]),t._v(" "),a("h4",{attrs:{id:"unlock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unlock"}},[t._v("#")]),t._v(" unlock")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("Duration")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("1h")]),t._v(", 即1小时")]),t._v(" "),a("blockquote",[a("p",[t._v("锁定时长")])]),t._v(" "),a("h3",{attrs:{id:"continuous-visit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#continuous-visit"}},[t._v("#")]),t._v(" continuous-visit")]),t._v(" "),a("blockquote",[a("p",[t._v("IP 持续访问")]),t._v(" "),a("p",[t._v("对应规则: CONTINUOUS_VISIT")]),t._v(" "),a("p",[t._v("如果同一 IP 在连续 [times] 个 [duration] 时间窗口访问, 将会在 [unlock] 时间内拒绝该 IP 访问")]),t._v(" "),a("p",[t._v("示例:")]),t._v(" "),a("p",[t._v("在所有配置为默认值情况下, 如果一个程序在以下区间内皆有访问, 则会被封禁 1 小时:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("同一天的: \n08:01\n08:02\n08:03\n08:04\n08:05\n08:06\n08:07\n08:08\n08:09\n08:10\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])])]),t._v(" "),a("h4",{attrs:{id:"duration-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#duration-2"}},[t._v("#")]),t._v(" duration")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("Duration")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("1m")]),t._v(", 即1分钟")]),t._v(" "),a("blockquote",[a("p",[t._v("时间窗口")])]),t._v(" "),a("h4",{attrs:{id:"times"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#times"}},[t._v("#")]),t._v(" times")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("int")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("100")])]),t._v(" "),a("blockquote",[a("p",[t._v("持续访问次数")])]),t._v(" "),a("h4",{attrs:{id:"unlock-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unlock-2"}},[t._v("#")]),t._v(" unlock")]),t._v(" "),a("p",[t._v("类型: "),a("code",[t._v("Duration")])]),t._v(" "),a("p",[t._v("默认: "),a("code",[t._v("1h")]),t._v(", 即1小时")]),t._v(" "),a("blockquote",[a("p",[t._v("锁定时长")])])])}),[],!1,null,null,null);e.default=v.exports}}]);