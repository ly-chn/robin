<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Robin 是什么 | Robin</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="期望成为一个反爬框架">
    
    <link rel="preload" href="/docs-robin/assets/css/0.styles.1547c11c.css" as="style"><link rel="preload" href="/docs-robin/assets/js/app.b193a1e9.js" as="script"><link rel="preload" href="/docs-robin/assets/js/2.8869a1b0.js" as="script"><link rel="preload" href="/docs-robin/assets/js/9.f29e433f.js" as="script"><link rel="prefetch" href="/docs-robin/assets/js/10.c6a326e0.js"><link rel="prefetch" href="/docs-robin/assets/js/11.43bf2458.js"><link rel="prefetch" href="/docs-robin/assets/js/12.81df1a8c.js"><link rel="prefetch" href="/docs-robin/assets/js/3.0590f80b.js"><link rel="prefetch" href="/docs-robin/assets/js/4.2234a622.js"><link rel="prefetch" href="/docs-robin/assets/js/5.5e6733d0.js"><link rel="prefetch" href="/docs-robin/assets/js/6.9691e8a9.js"><link rel="prefetch" href="/docs-robin/assets/js/7.fed2cc29.js"><link rel="prefetch" href="/docs-robin/assets/js/8.b6e83010.js">
    <link rel="stylesheet" href="/docs-robin/assets/css/0.styles.1547c11c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs-robin/" class="home-link router-link-active"><!----> <span class="site-name">Robin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs-robin/guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  指南
</a></div><div class="nav-item"><a href="/docs-robin/configuration/" class="nav-link">
  配置
</a></div><div class="nav-item"><a href="/docs-robin/guide/.html" class="nav-link">
  更新日志
</a></div> <a href="https://github.com/ly-chn/robin" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs-robin/guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  指南
</a></div><div class="nav-item"><a href="/docs-robin/configuration/" class="nav-link">
  配置
</a></div><div class="nav-item"><a href="/docs-robin/guide/.html" class="nav-link">
  更新日志
</a></div> <a href="https://github.com/ly-chn/robin" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>快速入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs-robin/guide/" aria-current="page" class="active sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-robin/guide/#robin-是什么" class="sidebar-link">Robin 是什么</a></li><li class="sidebar-sub-header"><a href="/docs-robin/guide/#features" class="sidebar-link">Features</a></li></ul></li><li><a href="/docs-robin/guide/quick_start.html" class="sidebar-link">快速开始</a></li><li><a href="/docs-robin/guide/built-in_strategy.html" class="sidebar-link">内置策略</a></li><li><a href="/docs-robin/guide/about_spider.html" class="sidebar-link">爬虫的一点介绍</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="robin-是什么"><a href="#robin-是什么" class="header-anchor">#</a> Robin 是什么</h2> <p>Robin 是一个简易的 Java 反爬框架, 目标是填补 Java 没有一个好用的反爬库的空白, 为中小型公司的反爬工作的提供良好的解决方案.</p> <p>目前虽然爬虫已经有不少爬虫判刑案例, 但是在利益的诱惑之下依然有数不清的公司在非法获取数据, 而大多中小公司的反爬要不少的成本, 不免要降低反爬工作的优先级.</p> <p>简单百度一下不难发现, 爬虫教程遍地都是, 爬虫/反爬虫/反反爬虫之战 简直是诸神黄昏. 这些人肆意破坏规则, 还有人自欺欺人, 告诉你, 只要你的&quot;数据量不够大/没有拿来盈利/不让对方服务器宕机/频率像普通用户访问/不窃取用户个人信息/不利用漏洞&quot;即可, 完全忽略沾点说明和<code>robots</code>协议. 可耻至极. 附参考链接<a href="https://www.zhihu.com/question/291554395" target="_blank" rel="noopener noreferrer">知乎-爬虫究竟是合法还是违法的<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>但是虽然他们是违法/不道德的, 我们依然没什么手段维护自己权益, 首先定位爬虫比较困难, 很难分析是不是用户瞎点的还是爬虫爬取的, 很难找到是哪个公司还是个人爬取的数据.</p> <p>因此特写了此框架, 希望可以增加爬虫的成本, 阻止低级爬虫, 为系统的稳定运行增加一份保障.</p> <h2 id="features"><a href="#features" class="header-anchor">#</a> Features</h2> <p>以下是 <code>Robin</code> 已实现的策略和待实现的策略</p> <ul class="contains-task-list"><li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> QPS限制</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> IP 访问频率限制</li> <li class="task-list-item"><input disabled="disabled" type="checkbox" class="task-list-item-checkbox"> 指定接口访问限制</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> 网站持续浏览限制</li> <li class="task-list-item"><input disabled="disabled" type="checkbox" class="task-list-item-checkbox"> 被遗忘的爬虫(这个没想好名字, 到时候再说)</li> <li class="task-list-item"><input disabled="disabled" type="checkbox" class="task-list-item-checkbox"> 其余尚不在计划中的策略将会以插件/demo形式放出</li></ul> <p>以下是常见的反爬策略</p> <ol><li><p>后端</p> <ul><li><p>QPS 限制</p> <blockquote><p>每秒可响应次数, 未来会实现</p></blockquote></li> <li><p>IP 访问频率限制</p> <blockquote><p>IP 访问频率限制可以说是最常见的了, 对于同一个 IP 短期内高频率访问, 基本可以认定为无效访问, 而且对于小公司/个人的爬虫, 维护一个 IP 代理池也是需要一些成本的. 但是如果网站本身访问量很大, 检测此项还是比较有难度的.</p></blockquote></li> <li><p>ua 验证</p> <blockquote><p>这个应该是最低级的爬虫限制策略了, 因为web开发者好好跟着爬虫课程学习一小时就能绕过这个策略.</p></blockquote></li> <li><p>Token 验证</p> <blockquote><p>对敏感数据要求登录后获取, 这是一个非常好的方案, Robin 将实现对单一用户在使用不同代理 ( IP 等 ) 的频繁访问进行检测. 对会员等级, 帐号权限相关的校验请交给专业的权限框架去解决, 这里推荐一个权限框架: <a href="http://sa-token.dev33.cn/" target="_blank" rel="noopener noreferrer">sa-token<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(致力于取代Shiro/SpringSecurity的复杂流程)</p></blockquote></li> <li><p>指定接口访问限制</p> <blockquote><p>有些接口是需要轮询查询的, 访问理应频繁的, 这些接口应当在其它验证策略排除之外, 比如验证码接口, Robin 也将为此做出相应手段</p></blockquote></li> <li><p>网站持续浏览限制</p> <blockquote><p>有些爬虫会发现各种频率限制策略, 但这些爬虫要的不是效率, 而是数据, 那么在这些爬虫将会进行缓慢的爬取, 比如每次获取数据后停顿随机 10~20 秒, 这是我们就需要对这种爬虫单独给出策略, 比如正常用户不会连续五六个小时, 每分钟都访问( 人总是要吃喝拉撒的吧 )</p></blockquote></li> <li><p>robots协议</p> <blockquote><p>!&gt; Robin 暂时不会考虑相关策略</p> <p>介绍 (来自 <a href="https://developers.google.com/search/docs/advanced/robots/intro?hl=zh-cn" target="_blank" rel="noopener noreferrer">Google SEO 优化指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>):</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>robots.txt 文件规定了搜索引擎抓取工具可以/无法请求抓取您网站上的哪些网页或文件。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如需使用, 建议完整查看相关指南. 不是所有的爬虫都遵守这个规则 ( 事实上你想阻止的爬虫几乎都不遵守 )</p> <p>Robin并不会给系统主动添加 robots.txt, 以下提出对 robots.txt 的一些建议:</p> <ol><li>不需要 SEO 的时候建议加上禁用所有爬虫</li> <li>不要将robots文件写的太过详细, 至少应当写个通配符, 不然有些爬虫找不到你接口的时候直接通过robots文件直接看到了.</li></ol></blockquote></li> <li><p>被遗忘的爬虫</p> <blockquote><p>有些写爬虫的直接放服务器, 随后被作者遗忘, 一直会浪费服务器性能, 未来可能会对这些爬虫做出策略</p></blockquote></li></ul></li> <li><p>需要前端配合的验证</p> <blockquote><p>优点: 简单小策略可增加爬虫不少心思</p> <p>缺点: 容易绕过, 尤其是未经过混淆的前端代码</p> <p>此处逻辑应由用户自己扩展, 不应框架提供, 否者太容易从框架中找到验证方式了, Robin将会提供示例, 不会提供相应策略</p></blockquote> <ul><li><p>特殊的 header</p> <blockquote><p>其实token已经算是其一了, 再举一个常见的例子</p> <p>一个请求发过来的时候header中带有一个MD5, 计算方式: md5( salt + 当前请求的分钟级时间戳 ), 后端只要验证最近几分钟的MD5是否一致即可</p></blockquote></li> <li><p>aes/des等加密部分字段</p> <blockquote><p>至少我遇到的网站不常用, 也只有登录或第三方调用等才会用的, 毕竟比较依靠后端性能.</p></blockquote></li> <li><p>轮询存活</p> <blockquote><p>这点就不说了, 比较低级</p></blockquote></li> <li><p>使用第三方授权</p> <blockquote><p>这个就把部分反爬成本嫁接给第三方了</p></blockquote></li> <li><p>用户指纹/环境指纹</p> <blockquote><p>比较高级, 一般不会公开这种检测方式, 因为性能, 数据分析成本较高, 所以不在Robin的考虑范围之内</p></blockquote></li> <li><p>ai识别</p> <blockquote><p>如验证码的轨迹检测, 和第三方的联调, 如<code>腾讯</code>最近上传用户的浏览器历史记录判断用户是否正常, 同上, 不在 Robin 的考虑范围</p></blockquote></li></ul></li> <li><p>其它</p> <blockquote><p>这部分大都是非及时性的反爬策略了, 如对访问日志的分析, 发现爬虫的其它特性</p></blockquote></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ly-chn/robin/edit/master/robin-doc/guide/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs-robin/guide/quick_start.html">
        快速开始
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs-robin/assets/js/app.b193a1e9.js" defer></script><script src="/docs-robin/assets/js/2.8869a1b0.js" defer></script><script src="/docs-robin/assets/js/9.f29e433f.js" defer></script>
  </body>
</html>
